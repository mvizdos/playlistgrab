<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  
  <title>PlaylistGrab_ | Studio Utility</title>
  <meta name="title" content="PlaylistGrab_ | Studio Utility">
  <meta name="description" content="Studio-grade data extraction for YouTube Playlists. Export video links, calculate durations, and analyze metadata. No distractions.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="theme-color" content="#09090b">

  <meta property="og:type" content="website">
  <meta property="og:url" content="https://playlistgrab.com/">
  <meta property="og:title" content="PlaylistGrab_ | YouTube Data Extraction">
  <meta property="og:description" content="Stop manually copying links. Extract public playlist data to CSV, JSON, or TXT instantly.">
  <meta property="og:image" content="https://playlistgrab.com/assets/social-preview.png">

  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://playlistgrab.com/">
  <meta property="twitter:title" content="PlaylistGrab_ | YouTube Data Extraction">
  <meta property="twitter:description" content="Stop manually copying links. Extract public playlist data to CSV, JSON, or TXT instantly.">
  <meta property="twitter:image" content="https://playlistgrab.com/assets/social-preview.png">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <button id="theme-toggle" class="btn btn-secondary" style="position: absolute; top: 1rem; right: 1rem; width: auto; padding: 0.5rem;" title="Toggle Theme">
    <span class="icon">◑</span>
  </button>

  <main>
    <header>
      <h1>PlaylistGrab_</h1>
      <p class="tagline">Studio-Grade YouTube Data Extraction</p>
    </header>

    <div class="card">
      <form id="extractor-form" onsubmit="return false;">
        
        <div class="input-group">
          <label for="playlist-url">Target Playlist URL</label>
          <div class="input-with-clear">
            <input type="text" id="playlist-url" placeholder="https://www.youtube.com/playlist?list=..." autocomplete="off" spellcheck="false">
            <button type="button" id="clear-input" class="clear-btn" aria-label="Clear input">✕</button>
          </div>
        </div>

        <div id="status-controls" style="display:flex; justify-content:space-between; align-items:center; margin-top: 0.5rem;">
          <div id="status-msg" class="status-msg">Ready for input...</div>
          
          <div id="advanced-controls" style="display:none; align-items:center; gap: 0.5rem;">
            <label for="max-pages" style="margin:0;">Max Pages:</label>
            <input id="max-pages" type="number" value="25" style="width: 60px; padding: 4px 8px;">
          </div>
        </div>

        <div id="error-msg" class="error-msg hidden" role="alert"></div>

        <div style="margin-top: 1.5rem;">
          <button type="button" id="extract-btn" class="btn btn-primary" disabled>Initialize Extraction</button>
          
          <div id="spinner" class="hidden" style="margin-top: 1rem; text-align: center;">
             <div class="status-msg processing">Processing Request...</div>
          </div>
        </div>

        <div id="progress" style="display:none;">
          <div class="progress-wrap">
            <div class="progress-track">
              <div id="progress-bar" class="progress-bar" style="width:0%"></div>
            </div>
          </div>
          <div style="display:flex; justify-content:space-between; margin-top:0.5rem;">
            <div id="progress-text" style="font-size:0.8rem; color:var(--text-muted);">Initializing...</div>
            <span id="progress-indicator" class="hidden-inline"></span>
          </div>
          
          <div style="display:flex; gap:0.5rem; margin-top:0.5rem; flex-wrap:wrap;">
            <div id="found-badge" class="badge" style="display:none;">Found: <span id="found-count">0</span></div>
            <div id="proxy-badge" class="badge" style="display:none; opacity:0.7;">Proxy: <span id="proxy-name"></span></div>
          </div>
          
          <div style="margin-top:0.5rem; display:flex; gap:0.5rem;">
             <button id="cancel-btn" class="btn btn-secondary" style="display:none; padding: 4px 12px; font-size: 0.75rem;">Cancel</button>
             <button id="details-btn" class="btn btn-secondary" style="padding: 4px 12px; font-size: 0.75rem;">Debug Log</button>
             <button id="download-log-btn" class="btn btn-secondary" style="display:none; padding: 4px 12px; font-size: 0.75rem;">Save Log</button>
          </div>
          
          <div id="log-area" style="display:none; margin-top:0.5rem; padding:0.5rem; background:#000; font-family:monospace; font-size:0.7rem; height:100px; overflow:auto; color:lime;"></div>
           <div id="progress-estimate" style="display:none;"></div>
        </div>

      </form>

      <div id="results-area" class="results-area">
        <div id="result-count" style="text-align:center; margin-bottom:1rem; font-family:var(--font-mono); font-size:0.9rem; color:var(--success);">
          Operation Successful: <span id="count-num">0</span> items retrieved.
        </div>
        
        <label for="output">Extracted Data</label>
        <textarea id="output" class="output-box" readonly></textarea>

        <div class="actions-row">
          <button type="button" id="copy-btn" class="btn btn-secondary">Copy</button>
          <button type="button" id="txt-btn" class="btn btn-secondary">.TXT</button>
          <button type="button" id="csv-btn" class="btn btn-secondary">.CSV</button>
          <button type="button" id="json-btn" class="btn btn-secondary">.JSON</button>
        </div>

        <button type="button" id="reset-btn" class="btn btn-danger">Reset System</button>
      </div>
    </div>

    <div style="text-align: center; margin-top: 2rem;">
       <button id="how-btn" style="background:none; border:none; color:var(--text-muted); font-size:0.8rem; cursor:pointer; text-decoration:underline;">System Documentation</button>
    </div>

  </main>

  <footer class="bottom-nav">
    <div>
      <span style="font-weight:700; color:var(--text-main);">PlaylistGrab</span>
      <span id="app-version" style="opacity:0.5; margin-left:0.5rem;">v0.1.0</span>
    </div>
    <div>
      <a href="/">Home</a>
      <a href="/privacy.html">Privacy</a>
      <a href="/tos.html">Terms</a>
      <span id="year"></span>
    </div>
  </footer>

  <div id="toast" class="toast">Notification</div>

  <div id="help-modal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.8); z-index:999; align-items:center; justify-content:center;">
    <div class="card" style="max-width:400px; width:90%; position:relative;">
      <button id="close-modal" style="position:absolute; top:1rem; right:1rem; background:none; border:none; color:white; font-size:1.5rem; cursor:pointer;">&times;</button>
      <h2>System Help</h2>
      <ul style="color:var(--text-muted); padding-left:1.2rem; margin-top:1rem;">
         <li>Paste a Public YouTube Playlist URL.</li>
         <li>System will cycle through proxies to bypass rate limits.</li>
         <li>Exports available in multiple data formats.</li>
      </ul>
    </div>
  </div>

  <script src="script.js" defer></script>

  <style>
    /* Ensure the modal behaves correctly with the existing JS toggling 'active' */
    #help-modal.active { display: flex !important; }
  </style>
</body>
</html>